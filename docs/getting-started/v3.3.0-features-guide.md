# v3.3.0 Features Guide - Configuration Systems

**Version:** 3.3.0 | **Release Date:** October 5, 2025

**‚ö†Ô∏è IMPORTANT**: Features described below are **CONFIGURATION ARCHITECTURES AND SPECIFICATIONS**, not automatic mechanisms. They require implementation in Claude Code CLI or manual application.

---

## What You Got in v3.3.0

Systems introduced in v3.3.0 are **detailed plans and configurations** showing HOW advanced features should work. Think of them as **blueprints for future Claude Code integration**.

---

## Table of Contents

1. [Model Configuration System](#1-model-configuration-system)
2. [Output Styles System](#2-output-styles-system)
3. [Advanced Checkpoint System](#3-advanced-checkpoint-system)
4. [Parallel Agent Execution](#4-parallel-agent-execution)
5. [How to Use NOW vs. Future](#how-to-use-now-vs-future)
6. [Testing & Validation](#testing--validation)
7. [Quick Reference](#quick-reference)
8. [FAQ](#faq)

---

## 1. üí∞ Model Configuration System

### What is it?
Three-tier profile system (Fast/Balanced/Quality) for API cost optimization through intelligent Claude model selection.

### Where to find it?
```
.claude/config/
‚îú‚îÄ‚îÄ model-profiles.json          # Profile definitions
‚îú‚îÄ‚îÄ agent-model-mapping.json     # Agent mappings
‚îú‚îÄ‚îÄ cost-optimization.json       # Budget settings
‚îî‚îÄ‚îÄ INFO.md                      # Documentation pointer
```

### Profiles Explained

#### Fast Profile (Haiku)
- **Cost Factor:** 0.3x (70% cheaper than Balanced)
- **Model:** claude-3-haiku-20240307
- **Best for:** Simple tasks, quick checks, documentation updates
- **Speed:** Very High
- **Quality:** Good

#### Balanced Profile (Sonnet) - DEFAULT
- **Cost Factor:** 1.0x (baseline)
- **Model:** claude-sonnet-4-5-20250929
- **Best for:** Most development work, feature implementation
- **Speed:** High
- **Quality:** Excellent

#### Quality Profile (Opus)
- **Cost Factor:** 3.0x (3x more expensive than Balanced)
- **Model:** claude-3-opus-20240229
- **Best for:** Architecture, security, critical decisions
- **Speed:** Moderate
- **Quality:** Exceptional

### Agent-to-Profile Mapping

**Quality Profile Agents** (15 agents):
- software-architect, enterprise-architect, security-engineer
- compliance-auditor, governance-architect, risk-manager
- business-analyst, product-manager, data-scientist
- And 6 more critical decision-making agents

**Balanced Profile Agents** (26 agents):
- frontend-engineer, backend-engineer, api-engineer
- data-engineer, mobile-developer, qa-engineer
- deployment-engineer, cloud-engineer, platform-engineer
- And 17 more development agents

**Fast Profile** (task-specific overrides):
- Used for simple tasks across all agents via `taskSpecificOverrides`

### How to Use NOW

**Option A: Manual Application (Available Now)**
1. Read `.claude/config/INFO.md` for file overview
2. Review agent mappings in `agent-model-mapping.json`
3. Manually select profiles when working:
   - Simple tasks ‚Üí Fast (Haiku)
   - Most work ‚Üí Balanced (Sonnet)
   - Critical decisions ‚Üí Quality (Opus)

**Option B: Reference Knowledge**
- Use as guide for manual cost optimization
- Calculate potential savings with `work/model-config-tests/cost-calculator.sh`
- Learn optimal model usage patterns

**Future:** When Claude Code CLI supports automatic model selection, these configurations will be ready.

### Usage Example
```bash
# NOW - manual selection
"Need simple docs update" ‚Üí use Fast/Haiku mentally
"Designing system architecture" ‚Üí use Quality/Opus mentally

# FUTURE - automatic (when CLI supports)
claude code --profile fast "Update README"
claude code --profile quality "Design database schema"
```

### Expected Impact
- **50% cost reduction** through intelligent model selection
- **Complete budget tracking** (daily/weekly/monthly)
- **Auto-downgrade protection** when approaching limits
- **Real-time cost analytics** and ROI reporting

---

## 2. üé® Output Styles System

### What is it?
Four specialized communication styles for different stakeholders and scenarios.

### Where to find it?
```
.claude/config/
‚îú‚îÄ‚îÄ output-styles.json           # Style definitions
‚îî‚îÄ‚îÄ INFO.md                      # Documentation pointer
```

### Available Styles

#### Technical Style
- **Target:** Developers, Engineers
- **Verbosity:** Detailed
- **Code Examples:** Abundant
- **Business Context:** Minimal
- **Best For:** Implementation guides, API docs, debugging

#### Executive Style
- **Target:** C-level, Management
- **Verbosity:** Concise
- **Code Examples:** None
- **Business Context:** Extensive
- **Best For:** Status reports, ROI analysis, strategic decisions

#### Educational Style
- **Target:** Learners, Juniors
- **Verbosity:** Expansive
- **Code Examples:** Abundant with explanations
- **Business Context:** Contextual
- **Best For:** Tutorials, concept explanations, best practices

#### Code Review Style
- **Target:** Reviewers, QA Engineers
- **Verbosity:** Minimal
- **Code Examples:** Targeted (before/after)
- **Business Context:** None
- **Best For:** PR reviews, security audits, quality assessment

### How to Use NOW

**Apply as Communication Patterns:**
1. Read style examples in `output-styles.json`
2. When communicating with different stakeholders, consciously adapt style:
   - With developers ‚Üí Technical (lots of code, details)
   - With manager ‚Üí Executive (ROI, timeline, business value)
   - For learning ‚Üí Educational (explanations, examples)
   - In code review ‚Üí Code Review (specific, before/after)

**Future:** Automatic style selection based on context.

### Style Comparison

| Feature | Technical | Executive | Educational | Code Review |
|---------|-----------|-----------|-------------|-------------|
| Verbosity | Detailed | Concise | Expansive | Minimal |
| Code | Abundant | None | With explanations | Targeted |
| Business | Minimal | Extensive | Contextual | None |
| Audience | Developers | Management | Learners | Reviewers |

---

## 3. üîÑ Advanced Checkpoint System

### What is it?
Multi-level checkpoint system architecture with semantic rollback capabilities.

### Where to find it?
```
.claude/config/
‚îî‚îÄ‚îÄ checkpoint-system.json       # System specification

.claude/checkpoints/             # Storage structure (gitignored)
‚îú‚îÄ‚îÄ agent_execution/             # Per-agent checkpoints
‚îú‚îÄ‚îÄ quality_gate/                # Pre-validation checkpoints
‚îú‚îÄ‚îÄ commit_preparation/          # Pre-commit checkpoints
‚îî‚îÄ‚îÄ manual/                      # User-created checkpoints
```

### Checkpoint Levels

#### 1. Agent Execution Checkpoints
- **When:** Before each agent runs
- **Retention:** Session end
- **Purpose:** Granular rollback per agent

#### 2. Quality Gate Checkpoints
- **When:** Before quality validation
- **Retention:** 24 hours
- **Purpose:** Rollback before quality checks

#### 3. Commit Preparation Checkpoints
- **When:** Before git commits
- **Retention:** 7 days
- **Purpose:** Safe commit preparation

#### 4. Manual Checkpoints
- **When:** User-created
- **Retention:** 30 days
- **Purpose:** Custom safety points

### Semantic Rewind Capabilities

- **"Rewind to before bug"** - Last checkpoint before test failure
- **"Rewind to last working state"** - Most recent passing tests
- **"Rewind to before refactoring"** - Checkpoint before code restructuring
- **"Rewind to commit point"** - Checkpoint at last git commit

### How to Use NOW

**Manual State Management:**

1. **Before Critical Operations:**
   ```bash
   # Make backup before major change
   cp -r src/ backups/before_refactoring_$(date +%Y%m%d_%H%M%S)/
   ```

2. **Git as Checkpoints:**
   ```bash
   # Frequent commits as checkpoints
   git commit -m "Checkpoint: before implementing auth"
   git commit -m "Checkpoint: tests passing"
   ```

3. **Branches as Safety Net:**
   ```bash
   # New feature branch before risky change
   git checkout -b feature/risky-change
   ```

**Future:** Automatic checkpoints before every agent operation.

### Expected Impact
- **70% reduction** in development rework
- **Instant recovery** from errors
- **Complete workflow protection**
- **Multi-agent coordination** safety

---

## 4. ‚ö° Parallel Agent Execution

### What is it?
Framework for concurrent multi-agent execution (3x development speedup).

### Where to find it?
```
.claude/config/
‚îî‚îÄ‚îÄ parallel-agents.json         # Team definitions
```

### Pre-Configured Teams

#### Full-Stack Team (4 agents) - 3x speedup
- frontend-engineer, backend-engineer, qa-engineer, deployment-engineer
- **Dependencies:** QA depends on dev, deployment depends on QA

#### Architecture Team (3 agents) - 2.5x speedup
- software-architect, security-engineer, performance-engineer
- **Dependencies:** Security & performance depend on architect

#### Compliance Team (3 agents) - 2x speedup
- compliance-auditor, security-engineer, governance-architect
- **Dependencies:** Governance depends on compliance

#### Operations Team (4 agents) - 2.5x speedup
- sre-engineer, monitoring-engineer, incident-responder, reliability-engineer
- **Dependencies:** Incident response depends on SRE & monitoring

#### Data Team (3 agents) - 2x speedup
- data-engineer, data-scientist, analytics-engineer
- **Dependencies:** Scientist & analytics depend on engineer

### How to Use NOW

**Plan Work Sequentially but Consciously:**

1. Review team templates in `parallel-agents.json`
2. Plan tasks based on dependencies:
   ```
   Frontend + Backend (parallel concept) ‚Üí QA ‚Üí Deployment
   ```
3. Execute work sequentially, but organize as if parallel

**Future:** True parallel agent execution.

### Expected Impact
- **3x development speed** for full-stack work
- **2-2.5x speedup** for specialized teams
- **Intelligent coordination** prevents conflicts
- **Graceful failure handling** preserves work

---

## 5. How to Use NOW vs. Future

### ‚úÖ WHAT YOU CAN DO NOW:

#### Model Configuration
- ‚úÖ Read and learn optimal patterns
- ‚úÖ Manually select appropriate models
- ‚úÖ Calculate potential savings
- ‚úÖ Use as cost optimization reference

#### Output Styles
- ‚úÖ Apply communication patterns for different audiences
- ‚úÖ Consciously adjust tone and detail level
- ‚úÖ Use templates from configuration

#### Checkpoint System
- ‚úÖ Use Git as checkpoints
- ‚úÖ Make manual backups before risky changes
- ‚úÖ Plan recovery strategy

#### Parallel Execution
- ‚úÖ Plan tasks with dependency awareness
- ‚úÖ Organize workflow based on team templates
- ‚úÖ Prepare for future parallel execution

### ‚ùå WHAT DOESN'T WORK AUTOMATICALLY:

- ‚ùå Automatic model selection
- ‚ùå Automatic style switching
- ‚ùå Automatic checkpoints
- ‚ùå Parallel agent execution

### üéØ VALUE OF v3.3.0:

These are **blueprints and best practices** that:
- Show HOW to optimize costs (50% savings possible)
- Teach WHEN to use which model
- Define COMMUNICATION STYLES for different stakeholders
- Design ERROR PROTECTION system
- Plan PARALLEL WORK structure

**When Claude Code CLI implements support for these features, you'll be ready!**

---

## 6. Testing & Validation

### Test Suite

```bash
# Run comprehensive tests (28 tests)
./work/model-config-tests/test-suite.sh

# View usage examples (5 scenarios)
./work/model-config-tests/usage-examples.sh

# Calculate your costs (interactive)
./work/model-config-tests/cost-calculator.sh
```

### Test Results
- **28/28 tests passed** (100% success rate)
- All JSON files validated
- All 46 agents correctly mapped
- Cost factors properly ordered
- Documentation complete

---

## 7. Quick Reference

### File Locations

| System | Configuration Files |
|--------|-------------------|
| Model Config | `.claude/config/model-profiles.json` |
| | `.claude/config/agent-model-mapping.json` |
| | `.claude/config/cost-optimization.json` |
| Output Styles | `.claude/config/output-styles.json` |
| Checkpoints | `.claude/config/checkpoint-system.json` |
| Parallel | `.claude/config/parallel-agents.json` |
| Documentation | `.claude/config/INFO.md` ‚Üí this guide |

### Quick Decision Guide

**Choose Model Profile:**
- Documentation update ‚Üí Fast
- Bug fix (simple) ‚Üí Fast
- Feature development ‚Üí Balanced
- Architecture design ‚Üí Quality
- Security audit ‚Üí Quality
- Performance optimization ‚Üí Quality

**Choose Communication Style:**
- Talking to developers ‚Üí Technical
- Presenting to management ‚Üí Executive
- Teaching/onboarding ‚Üí Educational
- Reviewing code ‚Üí Code Review

### Cost Estimates

| Profile | Model | Cost Factor | Typical Use |
|---------|-------|-------------|-------------|
| Fast | Haiku | 0.3x | 20-40% of tasks |
| Balanced | Sonnet | 1.0x | 50-70% of tasks |
| Quality | Opus | 3.0x | 10-20% of tasks |

**Potential Savings:** 50% compared to using Quality for everything

---

## 8. FAQ

### Q: Are these features automatic?
**A:** No. These are configuration specifications and architectural blueprints. They require Claude Code CLI implementation or manual application.

### Q: How do I use Model Configuration now?
**A:** Manually select appropriate models based on task complexity. Use Fast for simple tasks, Balanced for most work, Quality for critical decisions.

### Q: When will these be automatic?
**A:** When Claude Code CLI implements support for these configuration systems. These files provide the foundation for that integration.

### Q: Should I modify the JSON files?
**A:** You can customize them for your needs, but the defaults are based on best practices and extensive testing.

### Q: How much can I actually save?
**A:** Up to 50% of API costs through intelligent model selection. Use the cost calculator to estimate based on your usage patterns.

### Q: What if I make a mistake?
**A:** Use Git for version control and manual backups. The checkpoint system architecture shows best practices for state management.

### Q: Can I create custom teams?
**A:** Yes! Use `parallel-agents.json` as template and add custom team compositions in `customTeamTemplates`.

### Q: Where do I start?
**A:**
1. Read this guide completely
2. Review `.claude/config/INFO.md`
3. Run test suite to validate setup
4. Start applying patterns manually in your work

---

## Next Steps

1. **Read Configuration Files:**
   - `.claude/config/INFO.md` - Quick overview
   - Browse JSON files for detailed specifications

2. **Run Test Tools:**
   ```bash
   ./work/model-config-tests/test-suite.sh
   ./work/model-config-tests/usage-examples.sh
   ./work/model-config-tests/cost-calculator.sh
   ```

3. **Apply in Practice:**
   - Use manual patterns from configurations
   - Apply communication styles from guide
   - Plan workflows with dependency awareness

4. **Review Full Documentation:**
   - `CHANGELOG.md` - Complete v3.3.0 release notes
   - `FRAMEWORK_ROADMAP.md` - Future development plans
   - `CLAUDE.md` - Framework configuration reference

---

**Questions?** See `CHANGELOG.md` for full release notes or `FRAMEWORK_ROADMAP.md` for roadmap details.

**Report Issues:** Create issue in repository with `[v3.3.0]` tag.

**Contribute:** Submit PRs for configuration improvements or additional templates.
